<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>MindCare Analytics</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- CSS principal -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    
    <!-- ✅ AJOUT: CSS des corrections (auto-complétion, cartes améliorées, etc.) -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/additions.css') }}">
</head>
<body>

<header id="header" class="site-header">
    <div class="container header-inner">
        <div class="logo">
            <span class="logo-mark">MindCare</span>
        </div>
        <nav class="main-nav">
            <a href="#home">Accueil</a>
            <a href="#analytics">Analytics</a>
            <a href="#patients">Données Patients</a>
            <a href="#ml">IA & ML</a>
            <a href="#stats">Statistiques</a>
            <a href="#explore" class="nav-cta">Explorer les Données</a>
        </nav>
    </div>
</header>

<!-- HERO / LANDING -->
<section id="home" class="hero">
    <div class="overlay"></div>
    <div class="container hero-content">
        <div class="hero-left">
            <p class="hero-kicker">Bienvenue sur MindCare Analytics</p>
            <h1>
                Analyse avancée des données<br>
                sur la <span class="accent">dépression</span><br>
                par apprentissage automatique
            </h1>
            <p class="hero-subtitle">
                Plateforme d'analyse de cas de dépression combinant recherche vectorielle,
                machine learning et analyse statistique avancée pour mieux comprendre
                les profils de patients.
            </p>
            <div class="hero-actions">
                <a href="#explore" class="btn primary smoothscroll">Explorer les Données</a>
                <a href="#analytics" class="btn ghost smoothscroll">Recherche avancée</a>
            </div>
        </div>

        <div class="hero-right">
            <div class="dashboard-card">
                <div class="dashboard-header">
                    <h3>Tableau de bord</h3>
                    <span class="badge">Temps réel</span>
                </div>
                <div class="dashboard-metrics">
                    <div class="metric">
                        <span class="metric-label">Patients analysés</span>
                        <span class="metric-value" id="patientsCount">0</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Âge moyen</span>
                        <span class="metric-value" id="meanAge">0</span>
                    </div>
                </div>
                <div class="dashboard-footer">
                    <span class="status-dot"></span>
                    <span class="status-text">Connexion au moteur IA…</span>
                </div>
            </div>
        </div>
    </div>

    <div class="scroll-down">
        <span>Scroll down</span>
        <div class="scroll-line"></div>
    </div>
</section>

<!-- ANALYTICS & INSIGHTS -->
<section id="analytics" class="section light">
    <div class="container">
        <div class="section-header">
            <h2>Analytics &amp; Insights</h2>
            <p>
                Visualisation des tendances et patterns dans les données de santé mentale :
                évolution des symptômes, facteurs de risque et trajectoires de soins.
            </p>
        </div>

        <div class="cards-row">
            <article class="card">
                <h3>Analyse en temps réel</h3>
                <p>Surveillance continue des indicateurs de santé mentale avec mise à jour automatique des tableaux de bord.</p>
            </article>
            <article class="card">
                <h3>Tendances prédictives</h3>
                <p>Algorithmes de machine learning pour anticiper l'évolution des indicateurs et détecter les situations à risque.</p>
            </article>
            <article class="card">
                <h3>Données sécurisées</h3>
                <p>Protocoles de sécurité avancés pour la protection des données sensibles des patients.</p>
            </article>
        </div>
    </div>
</section>

<!-- EXPLORER LES DONNÉES : RECHERCHE & VECTOR SEARCH -->
<section id="explore" class="section">
    <div class="container">
        <div class="section-header">
            <h2>Explorer les données</h2>
            <p>
                Recherchez dans la base de données de patients, utilisez la recherche classique
                ou la recherche vectorielle pour retrouver des profils similaires.
            </p>
        </div>

        <div class="search-layout">
            <!-- Recherche classique -->
            <div class="search-panel">
                <h3>Recherche classique</h3>
                <p class="panel-subtitle">
                    Filtrer les dossiers selon des mots-clés (symptômes, diagnostic, traitements, statut, etc.).
                </p>
                <input id="searchInput" type="text"
                       placeholder="Ex. 'anxiété', 'Married', 'Non-smoker', 'Bachelor's Degree'">
                <div id="searchResults" class="results-box">
                    <p class="placeholder">Les résultats de recherche apparaîtront ici.</p>
                </div>
            </div>

            <!-- Recherche vectorielle -->
            <div class="search-panel">
                <h3>Recherche vectorielle avancée</h3>
                <p class="panel-subtitle">Trouver des profils de patients similaires à partir d'une description libre.</p>
                <textarea id="vectorSearchInput" rows="4"
                          placeholder="Ex. Femme d'une cinquantaine d'années, divorcée, sans emploi, sommeil pauvre et consommation d'alcool modérée."></textarea>
                <button id="vectorSearchBtn" class="btn primary full-width">
                    Lancer la recherche vectorielle
                </button>
                <div id="vectorSearchResults" class="results-box">
                    <p class="placeholder">Les résultats IA apparaîtront ici.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- GESTION DES DONNÉES PATIENTS -->
<section id="patients" class="section light">
    <div class="container">
        <div class="section-header">
            <h2>Gestion des données patients</h2>
            <p>
                Interface centralisée pour consulter, modifier et exporter les informations
                cliniques des patients suivis.
            </p>
        </div>

        <div class="cards-row actions-row">
            <article class="card action-card">
                <h3>Ajouter un patient</h3>
                <p>Création de nouveaux profils patients avec les principales informations cliniques.</p>
                <button class="btn outline" id="btnNewPatient">
                    <i class="icon-plus"></i> Nouveau patient
                </button>
            </article>

            <article class="card action-card">
                <h3>Modifier les données</h3>
                <p>Mise à jour des informations patients, symptômes, diagnostics et traitements.</p>
                <button class="btn outline" id="btnOpenPatients">
                    <i class="icon-folder-open"></i> Ouvrir la liste
                </button>
            </article>

            <article class="card action-card">
                <h3>Exporter les données</h3>
                <p>Export des analyses et indicateurs pour la recherche ou les rapports cliniques.</p>
                <button class="btn outline" id="btnExportPatients">
                    <i class="icon-download"></i> Exporter les patients
                </button>
            </article>
        </div>

        <div class="export-buttons">
            <button class="btn secondary" id="btnExportCsv">Exporter CSV</button>
            <button class="btn secondary" id="btnExportJson">Exporter JSON</button>
        </div>

        <div id="patientsTable" class="table-placeholder">
            <p class="placeholder">
                Lancez une recherche ci-dessus, puis utilisez les boutons "Voir" / "Modifier" sur chaque carte patient.
            </p>
        </div>
    </div>
</section>

<!-- MACHINE LEARNING ET MODÈLES PRÉDICTIFS -->
<section id="ml" class="section">
    <div class="container">
        <div class="section-header">
            <h2>Machine Learning &amp; Modèles Prédictifs</h2>
            <p>
                Algorithmes avancés pour l'analyse prédictive et la classification des données
                de santé mentale.
            </p>
        </div>

        <div class="two-columns">
            <div>
                <h3>Modèles implémentés</h3>
                <ul class="bullet-list">
                    <li><strong>Random Forest :</strong> Classification du niveau de risque de dépression.</li>
                    <li><strong>XGBoost :</strong> Prédiction du score de bien-être mental.</li>
                    <li><strong>K-Means clustering :</strong> Segmentation des profils de patients.</li>
                    <li><strong>Recherche vectorielle :</strong> Similarité sémantique entre cas cliniques.</li>
                </ul>
            </div>
<h3>Visualisation des clusters</h3>

<div class="cluster-controls">
    <p class="panel-subtitle">
        Choisissez un modèle pour afficher les clusters calculés à partir de la base de données.
    </p>
    <div class="cluster-buttons">
        <button class="btn small cluster-btn" data-model="kmeans">
            K-Means
        </button>
        <button class="btn small cluster-btn" data-model="random_forest">
            Random Forest
        </button>
        <button class="btn small cluster-btn" data-model="xgboost">
            XGBoost
        </button>
    </div>
</div>

<div id="clusterResults" class="chart-box">
    <p class="placeholder">
        Cliquez sur un modèle ci-dessus pour afficher les clusters.
    </p>
</div>

        </div>
    </div>
</section>

<!-- ANALYSE STATISTIQUE AVANCÉE (EDF) -->
<section id="stats" class="section gradient">
    <div class="container">
        <div class="section-header white">
            <h2>Analyse Statistique Avancée</h2>
            <p>
                Fonction de distribution empirique (EDF) et analyse comparative des variables
                cliniques clés.
            </p>
        </div>

        <div class="edf-layout">
            <div class="edf-controls">
                <h3>Selection de variable</h3>
                <p class="panel-subtitle">
                    Choisissez une variable pour calculer et visualiser sa fonction de distribution empirique.
                </p>

                <select id="edfVariable">
                    <option value="Age">Âge</option>
                    <option value="Income">Revenu</option>
                    <option value="Number of Children">Nombre d'enfants</option>
                </select>

                <button id="calculateEDF" class="btn primary full-width">Calculer l'EDF</button>
            </div>

            <div class="edf-results" id="edfResults">
                <p class="placeholder">Sélectionnez une variable pour visualiser sa distribution.</p>
            </div>
        </div>
    </div>
</section>

<!-- FOOTER -->
<footer class="site-footer">
    <div class="container footer-inner">
        <div>
            <h3>MindCare Analytics</h3>
            <p>Plateforme d'analyse de bien-être mental basée sur les données.</p>
        </div>
        <div class="footer-copy">
            © 2024 MindCare Analytics. Tous droits réservés.
        </div>
    </div>
</footer>

<!-- JavaScript -->
<script src="{{ url_for('static', filename='js/jquery-2.1.3.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/plugins.js') }}"></script>

<!-- SweetAlert2 pour les popups Voir / Modifier / Ajouter -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<!-- PapaParse pour l'export CSV -->
<script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>

<!-- JS principal de l'application -->
<script src="{{ url_for('static', filename='js/main.js') }}"></script>

</body>
</html>